---
title: 防卫性编程
date: 2018-05-18 12:40:39
tags: [错误处理]
---

# 一、边界清晰，御敌于国门之外

在模块的边界处，**无论别人调用你还是你调用别人，一定要明确约定调用规范**，一旦违反规范，立即启用错误处理流程（注意不是防卫流程），不要让错误在自己的模块内部流窜。

<br/> 

# 二、不给错误做二传手

如果发现错误，让错误到此为止，非必要不接力传递错误码。

<br/> 

# 三、当断则断，早死早超生

所有程序的正确运行都是依赖于一定的前提条件的，如果你发现外部模块不工作了，遵从系统的错误处理策略，**该报异常就报异常，该立即退出就退出**，重要的是搜集好现场的证据。一味的容错处理既不能解决问题还会掩盖问题，导致错误扩散，变形，拖延定位问题的时机。

<br/>